# SQL AUTO INCREMENT

Автоинкремент позволяет автоматически генерировать уникальный номер при добавлении новой записи в таблицу.

Часто это поле первичного ключа, которое мы хотели бы создавать автоматически каждый раз, когда вставляется новая запись.

## Синтаксис для MySQL

Следующий оператор SQL определяет столбец «Personid» как поле первичного ключа с автоинкрементом в таблице «Persons»:

``` SQL
CREATE TABLE Persons (
Personid int NOT NULL AUTO_INCREMENT,
LastName varchar(255) NOT NULL,
FirstName varchar(255),
Age int,
PRIMARY  KEY (Personid)
);
```

MySQL использует ключевое слово AUTO_INCREMENT для выполнения функции автоинкремента.

По умолчанию начальное значение AUTO_INCREMENT равно 1, и оно будет увеличиваться на 1 для каждой новой записи.

Чтобы позволить последовательности AUTO_INCREMENT начинаться с другого значения, используйте следующую инструкцию SQL:

``` SQL
ALTER TABLE Persons AUTO_INCREMENT=100;
```

Чтобы вставить новую запись в таблицу «Persons», нам НЕ нужно указывать значение для столбца «Personid» (уникальное значение будет добавлено автоматически):

``` SQL
INSERT INTO Persons (FirstName,LastName)
VALUES ('Lars','Monsen');
```

Вышеуказанный оператор SQL вставит новую запись в таблицу «Persons». Столбцу Personid будет присвоено уникальное значение. Столбец «FirstName» будет установлен на «Lars», а столбец «LastName» будет установлен на «Monsen».

## Синтаксис для SQL Server

Следующий оператор SQL определяет столбец «Personid» как поле первичного ключа с автоинкрементом в таблице «Persons»:

``` SQL
CREATE TABLE Persons (
Personid int IDENTITY(1,1) PRIMARY KEY,
LastName varchar(255) NOT NULL,
FirstName varchar(255),
Age int
);
```

SQL Server использует ключевое слово IDENTITY для выполнения функции автоинкремента.

В приведенном выше примере начальное значение для IDENTITY равно 1, и оно будет увеличиваться на 1 для каждой новой записи. Чтобы указать, что столбец «Personid» должен начинаться со значения 10 и увеличиваться на 5, измените его на IDENTITY (10,5).

Чтобы вставить новую запись в таблицу «Персоны», нам НЕ нужно указывать значение для столбца «Personid» (уникальное значение будет добавлено автоматически):

``` SQL
INSERT INTO Persons (FirstName,LastName)
VALUES ('Lars','Monsen');
```

Вышеуказанный оператор SQL вставит новую запись в таблицу «Persons». Столбцу Personid будет присвоено уникальное значение. Столбец «FirstName» будет установлен на «Lars», а столбец «LastName» будет установлен на «Monsen».

## Синтаксис для Access

Следующий оператор SQL определяет столбец «Personid» как поле первичного ключа с автоинкрементом в таблице «Persons»:

``` SQL
CREATE TABLE Persons (
Personid AUTOINCREMENT PRIMARY KEY,
LastName varchar(255) NOT NULL,
FirstName varchar(255),
Age int
);
```

Access использует ключевое слово AUTOINCREMENT для выполнения функции автоинкремента.

По умолчанию начальное значение AUTOINCREMENT равно 1, и оно будет увеличиваться на 1 для каждой новой записи. Чтобы указать, что столбец «Personid» должен начинаться со значения 10 и увеличиваться на 5, измените автоинкремент на AUTOINCREMENT (10,5).

Чтобы вставить новую запись в таблицу «Persons», нам НЕ нужно указывать значение для столбца «Personid» (уникальное значение будет добавлено автоматически):

``` SQL
INSERT INTO Persons (FirstName,LastName)
VALUES ('Lars','Monsen');
```

Вышеуказанный оператор SQL вставит новую запись в таблицу «Persons». Столбцу Personid будет присвоено уникальное значение. Столбец «FirstName» будет установлен на «Lars», а столбец «LastName» будет установлен на «Monsen».

## Синтаксис для Oracle

В Oracle код немного сложнее.

Вам нужно будет создать поле автоинкремента с объектом последовательности (этот объект генерирует последовательность чисел).

Используйте следующий синтаксис CREATE SEQUENCE:

``` SQL
CREATE SEQUENCE seq_person
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10;
```

Приведенный выше код создает объект последовательности с именем seq_person, который начинается с 1 и увеличивается на 1. Он также кеширует до 10 значений производительности. Параметр кэша указывает, сколько значений последовательности будет храниться в памяти для более быстрого доступа.

Чтобы вставить новую запись в таблицу «Persons», нам нужно будет использовать функцию nextval (эта функция извлекает следующее значение из последовательности seq_person):

``` SQL
INSERT INTO Persons (Personid,FirstName,LastName)
VALUES (seq_person.nextval,'Lars','Monsen');
```

Вышеуказанный оператор SQL вставит новую запись в таблицу «Persons». Столбцу Personid будет присвоен следующий номер из последовательности seq_person. Столбец «FirstName» будет установлен на «Lars», а столбец «LastName» будет установлен на «Monsen».

---

[НАЗАД](/SQL_DATABASE/SQL_CREATE_INDEX.md)  | [ВПЕРЁД](#)

